:root{
  --bg:#0f1720; --card:#0b1220; --accent:#0ea5e9; --text:#e6eef3;
  --muted:#9fb3c9; --success:#2ecc71;
}
*{box-sizing:border-box}
body{
  margin:0; font-family: "Segoe UI", Roboto, Arial, sans-serif;
  background: linear-gradient(180deg,#071026 0%, #0b1620 100%);
  color:var(--text);
}
.container{max-width:920px;margin:24px auto;padding:18px;border-radius:12px;background:rgba(255,255,255,0.02);box-shadow:0 6px 30px rgba(0,0,0,0.6);}
.topbar{display:flex;align-items:center;gap:14px}
.topbar .logo{width:56px;height:56px;border-radius:10px}
.topbar h1{font-size:20px;margin:0;flex:1}
.status{display:flex;align-items:center;gap:8px}
.dot{width:12px;height:12px;border-radius:50%;background:#ffbf00;display:inline-block}
.tiny{padding:4px 8px;font-size:12px;border-radius:6px;background:transparent;border:1px solid rgba(255,255,255,0.06);color:var(--text);cursor:pointer}

/* layout */
.chat-area{display:flex;gap:18px;margin-top:18px}
.avatar-panel{width:220px;display:flex;flex-direction:column;align-items:center;gap:10px}
.avatar{width:160px;height:160px;border-radius:14px;background:linear-gradient(180deg,#0d2632,#09202a);display:flex;align-items:center;justify-content:center;position:relative;box-shadow:0 8px 30px rgba(0,0,0,0.6)}
.avatar .eye{width:18px;height:18px;background:#fff;border-radius:50%;position:absolute;top:48px;box-shadow:inset 0 -3px 0 rgba(0,0,0,0.15)}
.avatar .eye.left{left:46px}
.avatar .eye.right{right:46px}
.mouth{width:70px;height:30px;border-radius:30px 30px 20px 20px;background:#ff8aa1;position:absolute;bottom:34px;transition:transform .12s ease,opacity .12s linear}
.avatar-idle .mouth{transform:scaleY(0.6);opacity:0.9}
.avatar-speaking .mouth{transform:scaleY(1.15);opacity:1;}

/* wave canvas */
.wave{width:100%;height:80px;background:transparent}

/* chat panel */
.chat-panel{flex:1;display:flex;flex-direction:column}
.chat-box{height:360px;background:linear-gradient(180deg,#071a24,#06121a);border-radius:10px;padding:12px;overflow:auto;border:1px solid rgba(255,255,255,0.03)}
.message{margin:10px 0;padding:10px 12px;border-radius:10px;max-width:78%}
.message.bot{background:rgba(255,255,255,0.04);align-self:flex-start}
.message.user{background:linear-gradient(90deg,#bde5ff,#88d6ff);color:#003344;align-self:flex-end}

/* input row */
.input-row{display:flex;gap:8px;margin-top:10px}
textarea#user-input{flex:1;padding:10px;border-radius:10px;background:rgba(255,255,255,0.02);border:1px solid rgba(255,255,255,0.04);color:var(--text);resize:none}
.btn{padding:10px 14px;border-radius:10px;background:rgba(255,255,255,0.03);border:1px solid rgba(255,255,255,0.03);color:var(--text);cursor:pointer}
.btn.primary{background:linear-gradient(180deg,var(--accent),#0284c7);color:#001b26;border:none}
.settings{margin-top:18px;padding:14px;border-radius:10px;background:linear-gradient(180deg,#071321,#081a24);border:1px solid rgba(255,255,255,0.03)}
.settings h2{margin-top:0}
.settings-row{display:flex;align-items:center;gap:12px;margin-top:8px}
.small{font-size:12px;color:var(--muted);margin-top:8px}

/* animations */
.status.connected .dot{background:var(--success)}
.status.connected #status-text{color:var(--success)}
.pulse { animation: pulse 1s infinite; }
@keyframes pulse {
  0% { transform: scale(1); opacity:1; }
  50% { transform: scale(1.08); opacity:0.85; }
  100%{ transform: scale(1); opacity:1; }
}

/* responsive */
@media (max-width:820px){ .chat-area{flex-direction:column} .avatar-panel{width:100%;flex-direction:row;justify-content:space-between} }
