<!doctype html>
<html lang="vi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>ThamAI ‚Äî Settings Pro+</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <main class="container">
    <header>
      <h1>ThamAI ‚Äî Tr·ª£ l√Ω k·ªÉ chuy·ªán</h1>
      <div class="top-controls">
        <button id="settings-btn" class="btn">‚öôÔ∏è C√†i ƒë·∫∑t</button>
        <button id="record-btn" class="btn">üé§ Ghi √¢m</button>
        <button id="speak-btn" class="btn">üîä ThamAI n√≥i</button>
      </div>
    </header>

    <section class="content">
      <aside class="left-panel">
        <div id="avatar" class="avatar">
          <!-- simple svg avatar; mouth will animate with 'speaking' class -->
          <svg viewBox="0 0 200 200" preserveAspectRatio="xMidYMid meet">
            <defs>
              <clipPath id="faceClip"><circle cx="100" cy="90" r="60"/></clipPath>
            </defs>
            <circle cx="100" cy="90" r="60" fill="#FFDBBD"/>
            <!-- eyes -->
            <g id="eyes">
              <ellipse cx="80" cy="80" rx="8" ry="6" fill="#222"/>
              <ellipse cx="120" cy="80" rx="8" ry="6" fill="#222"/>
            </g>
            <!-- mouth area: separate group to animate -->
            <g id="mouth" transform="translate(0,18)">
              <ellipse cx="100" cy="100" rx="20" ry="7" fill="#a33" />
            </g>
            <!-- blush -->
            <circle cx="70" cy="100" r="6" fill="#f4a" opacity="0.15"/>
            <circle cx="130" cy="100" r="6" fill="#f4a" opacity="0.15"/>
          </svg>
        </div>

        <div class="visualizer">
          <canvas id="vizCanvas"></canvas>
        </div>
      </aside>

      <section class="chat-panel">
        <div id="chat-box" class="chat-box" aria-live="polite"></div>

        <form id="msg-form" class="msg-form">
          <textarea id="user-input" placeholder="G√µ c√¢u h·ªèi ho·∫∑c l·ªánh..." rows="2"></textarea>
          <div class="form-actions">
            <button type="button" id="send-btn" class="btn primary">G·ª≠i</button>
            <button type="button" id="clear-btn" class="btn">X√≥a</button>
          </div>
        </form>
      </section>
    </section>

    <!-- Settings modal -->
    <div id="settings-modal" class="modal hidden" role="dialog" aria-modal="true">
      <div class="modal-content">
        <header class="modal-header">
          <h2> C√†i ƒë·∫∑t gi·ªçng & √¢m thanh </h2>
          <button id="close-settings" class="btn">‚úñ</button>
        </header>

        <div class="modal-body">
          <label>Ng√¥n ng·ªØ:
            <select id="lang-select">
              <option value="vi">Ti·∫øng Vi·ªát (vi)</option>
              <option value="en">Ti·∫øng Anh (en)</option>
            </select>
          </label>

          <label>Gi·ªçng:
            <select id="gender-select">
              <option value="female">Th·∫°chAI (n·ªØ) ‚Äî Mi·ªÅn B·∫Øc (m·∫∑c ƒë·ªãnh)</option>
              <option value="male">Th·∫°chAI (nam) ‚Äî Mi·ªÅn B·∫Øc</option>
            </select>
          </label>

          <div class="slider-row">
            <label>T·ªëc ƒë·ªô (rate): <span id="rate-val">1.0</span></label>
            <input id="rate" type="range" min="0.6" max="1.6" step="0.05" value="1.0">
          </div>

          <div class="slider-row">
            <label>Pitch (cao ƒë·ªô): <span id="pitch-val">1.0</span></label>
            <input id="pitch" type="range" min="0.6" max="1.6" step="0.05" value="1.0">
          </div>

          <div class="switch-row">
            <label><input id="toggle-visual" type="checkbox" checked> Hi·ªÉn th·ªã s√≥ng √¢m</label>
            <label><input id="toggle-avatar" type="checkbox" checked> Hi·ªÉn th·ªã avatar bi·ªÉu c·∫£m</label>
          </div>

          <div class="settings-actions">
            <button id="test-voice" class="btn">üîä Th·ª≠ gi·ªçng</button>
            <button id="save-settings" class="btn primary">L∆∞u</button>
            <button id="reset-settings" class="btn">ƒê·∫∑t l·∫°i</button>
          </div>
        </div>
      </div>
    </div>

    <audio id="audio-player" controls hidden></audio>
  </main>

  <script src="script.js" type="module"></script>
</body>
</html>
